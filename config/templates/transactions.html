{% extends 'base.html' %}

{% block title %}Transactions{% endblock %}
{% block onload %}requireAuth(); loadTransactions();{% endblock %}

{% block content %}
<h2>Transactions</h2>
<ul id="list"></ul>
{% endblock %}

<script>
async function loadTransactions() {
    const transactions = await apiGet("/api/transactions/");
    const list = document.getElementById("list");
    list.innerHTML = "";

    transactions.forEach(t => {
        const li = document.createElement("li");
        li.innerText = `${t.amount} - ${t.category_name} - ${t.description || '-'}`;
        list.appendChild(li);
    });
}
</script>
